{"openapi":"3.1.0","info":{"title":"Secure ChatGPT Proxy MVP","description":"MVP для безопасной передачи запросов в LLM","version":"0.1.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/jwt/login":{"post":{"tags":["Auth"],"summary":"Auth:Jwt.Login","operationId":"auth_jwt_login_api_auth_jwt_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_auth_jwt_login_api_auth_jwt_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"LOGIN_BAD_CREDENTIALS":{"summary":"Bad credentials or the user is inactive.","value":{"detail":"LOGIN_BAD_CREDENTIALS"}},"LOGIN_USER_NOT_VERIFIED":{"summary":"The user is not verified.","value":{"detail":"LOGIN_USER_NOT_VERIFIED"}}}}}},"204":{"description":"No Content"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/jwt/logout":{"post":{"tags":["Auth"],"summary":"Auth:Jwt.Logout","operationId":"auth_jwt_logout_api_auth_jwt_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Missing token or inactive user."},"204":{"description":"No Content"}},"security":[{"APIKeyCookie":[]}]}},"/api/auth/register":{"post":{"tags":["Auth"],"summary":"Register:Register","operationId":"register_register_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"REGISTER_USER_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"REGISTER_USER_ALREADY_EXISTS"}},"REGISTER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"REGISTER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/forgot-password":{"post":{"tags":["Auth"],"summary":"Reset:Forgot Password","operationId":"reset_forgot_password_api_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_reset_forgot_password_api_auth_forgot_password_post"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/reset-password":{"post":{"tags":["Auth"],"summary":"Reset:Reset Password","operationId":"reset_reset_password_api_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_reset_reset_password_api_auth_reset_password_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"RESET_PASSWORD_BAD_TOKEN":{"summary":"Bad or expired token.","value":{"detail":"RESET_PASSWORD_BAD_TOKEN"}},"RESET_PASSWORD_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"RESET_PASSWORD_INVALID_PASSWORD","reason":"Password should be at least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/me":{"get":{"tags":["User"],"summary":"Users:Current User","operationId":"users_current_user_api_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."}},"security":[{"APIKeyCookie":[]}]},"patch":{"tags":["User"],"summary":"Users:Patch Current User","operationId":"users_patch_current_user_api_users_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"UPDATE_USER_EMAIL_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"UPDATE_USER_EMAIL_ALREADY_EXISTS"}},"UPDATE_USER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"UPDATE_USER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/users/{id}":{"get":{"tags":["User"],"summary":"Users:User","operationId":"users_user_api_users__id__get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."},"403":{"description":"Not a superuser."},"404":{"description":"The user does not exist."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["User"],"summary":"Users:Patch User","operationId":"users_patch_user_api_users__id__patch","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"401":{"description":"Missing token or inactive user."},"403":{"description":"Not a superuser."},"404":{"description":"The user does not exist."},"400":{"content":{"application/json":{"examples":{"UPDATE_USER_EMAIL_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"UPDATE_USER_EMAIL_ALREADY_EXISTS"}},"UPDATE_USER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"UPDATE_USER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}},"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Bad Request"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["User"],"summary":"Users:Delete User","operationId":"users_delete_user_api_users__id__delete","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"204":{"description":"Successful Response"},"401":{"description":"Missing token or inactive user."},"403":{"description":"Not a superuser."},"404":{"description":"The user does not exist."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users":{"get":{"tags":["User"],"summary":"Paginated List User","description":"Get paginated list of users","operationId":"paginated_list_user_api_users_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"created_at","title":"Order By"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":50,"title":"Size"},"description":"Page size"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_UserRead_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat":{"post":{"tags":["Chat"],"summary":"Handle Chat Data","description":"Handle chat completion with streaming response.\nCan use either standard OpenAI streaming or InnerChat functionality.","operationId":"handle_chat_data_api_chat_post","parameters":[{"name":"protocol","in":"query","required":false,"schema":{"type":"string","default":"data","title":"Protocol"}},{"name":"chat_id","in":"query","required":false,"schema":{"type":"string","title":"Chat Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents":{"get":{"tags":["Document"],"summary":"Paginated List Documents","description":"Get paginated list of forms","operationId":"paginated_list_documents_api_documents_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":50,"title":"Size"},"description":"Page size"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_DocumentListRead_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/upload":{"post":{"tags":["Document"],"summary":"Upload Document","description":"Upload single document","operationId":"upload_document_api_documents_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_documents_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/upload/batch":{"post":{"tags":["Document"],"summary":"Upload Documents Batch","description":"Upload multiple documents","operationId":"upload_documents_batch_api_documents_upload_batch_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_documents_batch_api_documents_upload_batch_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/{doc_id}":{"get":{"tags":["Document"],"summary":"Get Document","description":"Get document by ID","operationId":"get_document_api_documents__doc_id__get","parameters":[{"name":"doc_id","in":"path","required":true,"schema":{"type":"string","title":"Doc Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/check/{doc_id}":{"get":{"tags":["Document"],"summary":"Check Document","description":"Check document status","operationId":"check_document_api_documents_check__doc_id__get","parameters":[{"name":"doc_id","in":"path","required":true,"schema":{"type":"string","title":"Doc Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCheck"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/index/add/{document_id}":{"post":{"tags":["index"],"summary":"Index Document","description":"Index a single document by ID","operationId":"index_document_index_add__document_id__post","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/index/sync":{"post":{"tags":["index"],"summary":"Sync Documents","description":"Sync all documents from database to Elasticsearch","operationId":"sync_documents_index_sync_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncResponse"}}}}}}},"/index/stats":{"get":{"tags":["index"],"summary":"Get Stats","description":"Get index statistics","operationId":"get_stats_index_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexStats"}}}}}}},"/index/reset-status/{document_id}":{"post":{"tags":["index"],"summary":"Reset Document Status","description":"Reset document status to PENDING to allow reindexing","operationId":"reset_document_status_index_reset_status__document_id__post","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search/documents":{"get":{"tags":["search"],"summary":"Search Documents","description":"Search documents by text query","operationId":"search_documents_search_documents_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"Search query text","title":"Query"},"description":"Search query text"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of results to return","default":3,"title":"Limit"},"description":"Maximum number of results to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search/documents/{document_id}":{"get":{"tags":["search"],"summary":"Get Document","description":"Get document by ID","operationId":"get_document_search_documents__document_id__get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/new":{"post":{"tags":["chat"],"summary":"Create Chat","description":"Creates a new chat session","operationId":"create_chat_chat_new_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InnerChatSessionResponse"}}}}}}},"/chat/query":{"post":{"tags":["chat"],"summary":"Chat Query","description":"Processes a user query in the chat","operationId":"chat_query_chat_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InnerChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InnerChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/{chat_id}":{"delete":{"tags":["chat"],"summary":"Delete Chat","description":"Deletes a chat session","operationId":"delete_chat_chat__chat_id__delete","parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}},{"name":"session_token","in":"query","required":true,"schema":{"type":"string","title":"Session Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InnerDeleteChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_auth_jwt_login_api_auth_jwt_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_auth_jwt_login_api_auth_jwt_login_post"},"Body_reset_forgot_password_api_auth_forgot_password_post":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"Body_reset_forgot_password_api_auth_forgot_password_post"},"Body_reset_reset_password_api_auth_reset_password_post":{"properties":{"token":{"type":"string","title":"Token"},"password":{"type":"string","title":"Password"}},"type":"object","required":["token","password"],"title":"Body_reset_reset_password_api_auth_reset_password_post"},"Body_upload_document_api_documents_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_document_api_documents_upload_post"},"Body_upload_documents_batch_api_documents_upload_batch_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"}},"type":"object","required":["files"],"title":"Body_upload_documents_batch_api_documents_upload_batch_post"},"ChatRequest":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/ClientMessage"},"type":"array","title":"Messages"}},"type":"object","required":["messages"],"title":"ChatRequest"},"ClientAttachment":{"properties":{"name":{"type":"string","title":"Name"},"contentType":{"type":"string","title":"Contenttype"},"url":{"type":"string","title":"Url"}},"type":"object","required":["name","contentType","url"],"title":"ClientAttachment"},"ClientMessage":{"properties":{"role":{"type":"string","title":"Role"},"content":{"type":"string","title":"Content"},"experimental_attachments":{"anyOf":[{"items":{"$ref":"#/components/schemas/ClientAttachment"},"type":"array"},{"type":"null"}],"title":"Experimental Attachments"},"toolInvocations":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToolInvocation"},"type":"array"},{"type":"null"}],"title":"Toolinvocations"}},"type":"object","required":["role","content"],"title":"ClientMessage"},"DocumentCheck":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"file_name":{"type":"string","title":"File Name"},"file_path":{"type":"string","title":"File Path"},"doc_type":{"$ref":"#/components/schemas/DocumentType"},"status":{"$ref":"#/components/schemas/DocumentStatus"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["id","file_name","file_path","doc_type","status"],"title":"DocumentCheck"},"DocumentList":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/DocumentResponse"},"type":"array","title":"Documents"}},"type":"object","required":["documents"],"title":"DocumentList"},"DocumentListRead":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"status":{"$ref":"#/components/schemas/DocumentStatus"},"doc_type":{"$ref":"#/components/schemas/DocumentType"},"file_name":{"type":"string","title":"File Name"},"file_path":{"type":"string","title":"File Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","status","doc_type","file_name","file_path","created_at","updated_at"],"title":"DocumentListRead"},"DocumentResponse":{"properties":{"file_name":{"type":"string","title":"File Name"},"doc_type":{"$ref":"#/components/schemas/DocumentType"},"id":{"type":"string","format":"uuid4","title":"Id"},"status":{"$ref":"#/components/schemas/DocumentStatus"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["file_name","doc_type","id","status","created_at","updated_at"],"title":"DocumentResponse"},"DocumentStatus":{"type":"string","enum":["pending","processed","indexed","error"],"title":"DocumentStatus"},"DocumentType":{"type":"string","enum":["pdf","docx","xlsx"],"title":"DocumentType"},"DocumentTypeStats":{"properties":{"type":{"type":"string","title":"Type"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["type","count"],"title":"DocumentTypeStats"},"ErrorModel":{"properties":{"detail":{"anyOf":[{"type":"string"},{"additionalProperties":{"type":"string"},"type":"object"}],"title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IndexResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"IndexResponse"},"IndexStats":{"properties":{"index_exists":{"type":"boolean","title":"Index Exists"},"total_documents":{"type":"integer","title":"Total Documents"},"document_types":{"items":{"$ref":"#/components/schemas/DocumentTypeStats"},"type":"array","title":"Document Types"},"last_indexed":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Indexed"}},"type":"object","required":["index_exists","total_documents","document_types"],"title":"IndexStats"},"InnerChatRequest":{"properties":{"chat_id":{"type":"string","title":"Chat Id"},"query":{"type":"string","title":"Query"},"session_token":{"type":"string","title":"Session Token"},"force_new_search":{"type":"boolean","title":"Force New Search","default":false}},"type":"object","required":["chat_id","query","session_token"],"title":"InnerChatRequest"},"InnerChatResponse":{"properties":{"response":{"type":"string","title":"Response"},"masked_query":{"type":"string","title":"Masked Query"},"masked_response":{"type":"string","title":"Masked Response"},"document_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Id"},"has_context":{"type":"boolean","title":"Has Context"}},"type":"object","required":["response","masked_query","masked_response","document_id","has_context"],"title":"InnerChatResponse"},"InnerChatSessionResponse":{"properties":{"chat_id":{"type":"string","title":"Chat Id"}},"type":"object","required":["chat_id"],"title":"InnerChatSessionResponse"},"InnerDeleteChatResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","message"],"title":"InnerDeleteChatResponse"},"Links":{"properties":{"first":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First","examples":["/api/v1/users?limit=1&offset1"]},"last":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last","examples":["/api/v1/users?limit=1&offset1"]},"self":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Self","examples":["/api/v1/users?limit=1&offset1"]},"next":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next","examples":["/api/v1/users?limit=1&offset1"]},"prev":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prev","examples":["/api/v1/users?limit=1&offset1"]}},"type":"object","required":["first","last","self","next","prev"],"title":"Links"},"Page_DocumentListRead_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/DocumentListRead"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"page":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Page"},"size":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Size"},"pages":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Pages"},"links":{"$ref":"#/components/schemas/Links"}},"type":"object","required":["items","total","page","size","links"],"title":"Page[DocumentListRead]"},"Page_UserRead_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/UserRead"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Total"},"page":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Page"},"size":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Size"},"pages":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Pages"},"links":{"$ref":"#/components/schemas/Links"}},"type":"object","required":["items","total","page","size","links"],"title":"Page[UserRead]"},"SearchMetadata":{"properties":{"file_name":{"type":"string","title":"File Name"},"doc_type":{"type":"string","title":"Doc Type"},"highlights":{"items":{"type":"string"},"type":"array","title":"Highlights","default":[]}},"type":"object","required":["file_name","doc_type"],"title":"SearchMetadata"},"SearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/SearchResultResponse"},"type":"array","title":"Results"},"total_found":{"type":"integer","title":"Total Found"}},"type":"object","required":["results","total_found"],"title":"SearchResponse"},"SearchResultResponse":{"properties":{"document_id":{"type":"string","title":"Document Id"},"score":{"type":"number","title":"Score"},"content":{"type":"string","title":"Content"},"metadata":{"$ref":"#/components/schemas/SearchMetadata"}},"type":"object","required":["document_id","score","content","metadata"],"title":"SearchResultResponse"},"SyncResponse":{"properties":{"total_processed":{"type":"integer","title":"Total Processed"},"success_count":{"type":"integer","title":"Success Count"},"error_count":{"type":"integer","title":"Error Count"}},"type":"object","required":["total_processed","success_count","error_count"],"title":"SyncResponse"},"ToolInvocation":{"properties":{"state":{"$ref":"#/components/schemas/ToolInvocationState"},"toolCallId":{"type":"string","title":"Toolcallid"},"toolName":{"type":"string","title":"Toolname"},"args":{"title":"Args"},"result":{"title":"Result"}},"type":"object","required":["state","toolCallId","toolName","args","result"],"title":"ToolInvocation"},"ToolInvocationState":{"type":"string","enum":["call","partial-call","result"],"title":"ToolInvocationState"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified","default":false},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"}},"type":"object","required":["email","password","first_name","last_name"],"title":"UserCreate"},"UserRead":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"email":{"type":"string","format":"email","title":"Email"},"role":{"$ref":"#/components/schemas/UserRole"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"full_name":{"type":"string","title":"Full Name"}},"type":"object","required":["id","email","role","first_name","last_name","full_name"],"title":"UserRead"},"UserRole":{"type":"string","enum":["admin","employee"],"title":"UserRole"},"UserUpdate":{"properties":{"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser"},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyCookie":{"type":"apiKey","in":"cookie","name":"celestialcloudauth"}}}}